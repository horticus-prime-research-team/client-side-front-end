{"version":3,"sources":["components/login/loginContext.js","components/moistureStream/index.js","components/table/index.js","components/chart/index.js","components/users/index.js","components/login/login.js","app.js","index.js","assets/plantLogo.png"],"names":["LoginContext","React","createContext","LoginProvider","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","login","token","cookie","save","setLoginState","logout","remove","loggedIn","load","setState","qs","URLSearchParams","window","location","search","cookieToken","get","state","react_default","a","createElement","Provider","value","children","Component","socket","socketIOClient","MoistureStream","_useState","useState","_useState2","slicedToArray","moistureNumber","setMoistureNumber","_useState3","_useState4","moistureStatus","setMoistureStatus","_useState5","_useState6","moistureIndicatorColor","setMoistureIndicatorColor","useEffect","on","data","val","className","Table","handleSubmit","e","superagent","query","year","moment","format","month","day","then","response","JSON","parse","text","reads","days","catch","err","console","error","getDatafromdb","preventDefault","DATA","DAYS","map","index","key","timestamp","Fragment","id","renderTableHeader","renderTableData","BarGraph","reading","log","getDataFromDB","newTime","reduce","acc","curr","concat","push","newMoistureNum","prevState","labels","datasets","objectSpread","label","backgroundColor","borderColor","fill","es","Users","post","API","send","email","password","role","context","handleChange","defineProperty","target","name","onSubmit","placeholder","onChange","type","If","condition","Login","auth","onClick","components_moistureStream","components_table","chart_BarGraph","users","src","Logo","alt","contextType","App","loginContext","login_login","Main","app_App","rootElement","document","getElementById","ReactDOM","render","src_Main","module","exports","__webpack_require__","p"],"mappings":"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","file":"static/js/main.f286110c.chunk.js","sourcesContent":["import React from \"react\";\r\nimport cookie from \"react-cookies\";\r\n\r\nexport const LoginContext = React.createContext();\r\n\r\nclass LoginProvider extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const qs = new URLSearchParams(window.location.search);\r\n    const cookieToken = cookie.load(\"auth\");\r\n    const token = qs.get(\"token\") || cookieToken || null;\r\n    this.state = {\r\n      loggedIn: !!token,\r\n      token: token,\r\n      login: this.login,\r\n      logout: this.logout\r\n    };\r\n  }\r\n\r\n  login = token => {\r\n    cookie.save(\"auth\", token);\r\n    this.setLoginState(true);\r\n  };\r\n\r\n  logout = () => {\r\n    cookie.remove(\"auth\");\r\n    this.setLoginState(false);\r\n  };\r\n\r\n  setLoginState = loggedIn => {\r\n    let token = cookie.load(\"auth\");\r\n    this.setState({ token, loggedIn });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <LoginContext.Provider value={this.state}>\r\n        {this.props.children}\r\n      </LoginContext.Provider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LoginProvider;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport socketIOClient  from 'socket.io-client';\r\n\r\nimport \"./moistureStream.scss\";\r\n\r\nconst socket = socketIOClient('https://calm-river-80577.herokuapp.com');\r\n\r\nconst MoistureStream = () => {\r\n  const [moistureNumber, setMoistureNumber] = useState(0);\r\n  const [moistureStatus, setMoistureStatus] = useState(\"dry\");\r\n  const [moistureIndicatorColor, setMoistureIndicatorColor] = useState(\"dryStyle\");\r\n    \r\n  useEffect(() => {\r\n    socket.on('moisture-data', (data) => {\r\n      setMoistureNumber(data.val);\r\n  \r\n      if(data.val <= 299 ){\r\n        setMoistureStatus(\"Dry\");\r\n        setMoistureIndicatorColor(`dryStyle`);\r\n      } else if (data.val >= 300 && data.val <= 599 ){\r\n        setMoistureStatus(\"Moist\");\r\n        setMoistureIndicatorColor(`moistStyle`);\r\n      } else{\r\n        setMoistureStatus(\"Wet\");\r\n        setMoistureIndicatorColor('wetStyle');\r\n      }\r\n    })\r\n  }, []);\r\n\r\n  return (\r\n    <section className=\"moistureStream\">\r\n      <h2 className='number'>Moisture Number: {moistureNumber}</h2>\r\n      <div className={moistureIndicatorColor} />\r\n      <h2 className='status'>Moisture Status: {moistureStatus}</h2>\r\n      <p className='legend'>Legend: 0 - 299 Dry, 300 - 599 Moist, 600+ Wet</p>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default MoistureStream;\r\n","import React from \"react\";\r\nimport DATA from \"./data.json\";\r\nimport superagent from \"superagent\";\r\nimport * as moment from 'moment';\r\n\r\nimport \"./table.scss\"\r\n\r\nclass Table extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      days: [],\r\n\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.handleSubmit();\r\n  }\r\n\r\n  handleSubmit = e => {\r\n    superagent\r\n      .get(`https://polar-springs-72876.herokuapp.com/moisture`)\r\n      .query({year: moment().format('YYYY'), month: moment().format('MM'), day: moment().format('DD')})\r\n      .then(response => {\r\n        // console.log('RESPONSE', JSON.parse(response.text)[0].reads);\r\n        let data = JSON.parse(response.text)[0].reads\r\n        this.setState({days: data});\r\n      })\r\n      .catch(err => console.error(err));\r\n  };\r\n\r\n  renderTableData() {\r\n    return this.state.days.map((day, index) => {\r\n      return (\r\n        <tr className='tr' key={index}>\r\n          <td className='td'>\r\n           {moment(day.timestamp).format('YYYY')}\r\n          </td>\r\n          <td className='td'>\r\n           {moment(day.timestamp).format('MM')}\r\n          </td>\r\n          <td className='td'>\r\n           {moment(day.timestamp).format('DD')}\r\n          </td>\r\n          <td className='td'>\r\n           {moment(day.timestamp).format('hh')}:{moment(day.timestamp).format('mm')}\r\n          </td>\r\n          <td className='td'>{day.moistureNumber}</td>\r\n        </tr>\r\n      );\r\n    });\r\n  }\r\n\r\n  renderTableHeader() {\r\n    return (\r\n      <>\r\n        <th className='th'>Years</th>\r\n        <th className='th'>Months</th>\r\n        <th className='th'>Days</th>\r\n        <th className='th'>Time</th>\r\n        <th className='th'>Data</th>\r\n      </>\r\n    );\r\n  }\r\n\r\n  getDatafromdb = e => {\r\n    e.preventDefault();\r\n    this.setState({days: DATA.DAYS})\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h1 id=\"title\">Moisture Level</h1>\r\n        <table className='table'>\r\n          <tbody>\r\n            <tr>{this.renderTableHeader()}</tr>\r\n            {this.renderTableData()}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Table;\r\n","import React from \"react\";\r\nimport { Line } from \"react-chartjs-2\";\r\nimport superagent from \"superagent\";\r\nimport * as moment from 'moment';\r\n\r\nexport default class BarGraph extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      data: {\r\n        labels: [\r\n          \"January\",\r\n          \"February\",\r\n          \"March\",\r\n          \"April\",\r\n          \"May\",\r\n          \"June\",\r\n          \"July\"\r\n        ],\r\n        datasets: [\r\n          {\r\n            label: \"Moisture Level\",\r\n            backgroundColor: \"rgb(255, 99, 132)\",\r\n            borderColor: \"rgb(255, 99, 132)\",\r\n            data: [0, 10, 5, 2, 20, 30, 45],\r\n            fill: false\r\n          }\r\n        ]\r\n      },\r\n      reading: []\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log('handleSubmit');\r\n    this.handleSubmit();\r\n  }\r\n\r\n  handleSubmit = e => {\r\n    superagent\r\n      .get(`https://polar-springs-72876.herokuapp.com/moisture`)\r\n      .query({year: moment().format('YYYY'), month: moment().format('MM'), day: moment().format('DD')})\r\n      .then(response => {\r\n        // console.log('RESPONSE', JSON.parse(response.text)[0].reads);\r\n        let data = JSON.parse(response.text)[0].reads\r\n        this.setState({reading: data});\r\n        console.log('READING', this.state.reading);\r\n        this.getDataFromDB();\r\n      })\r\n      .catch(err => console.error(err));\r\n  };\r\n\r\n  getDataFromDB = e => {\r\n    let newTime = this.state.reading.reduce((acc, curr) => {\r\n      // console.log(curr.timestamp);\r\n      // curr = new Date(curr.timeStamp);\r\n      curr = `${moment(curr.timestamp).format('HH')}:${moment(curr.timestamp).format('mm')}`;\r\n      acc.push(curr);\r\n      return acc;\r\n    }, []);\r\n\r\n    let newMoistureNum = this.state.reading.reduce((acc, curr) => {\r\n      curr = curr.moistureNumber;\r\n      acc.push(curr);\r\n      return acc;\r\n    }, []);\r\n\r\n    this.setState(prevState => ({\r\n      data: {\r\n        labels: newTime,\r\n        datasets: [{ ...prevState.data.datasets[0], data: newMoistureNum }]\r\n      }\r\n    }));\r\n  };\r\n\r\n\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Line data={this.state.data} />\r\n        {/* <form onSubmit={e => this.getDatafromdb(e)}>\r\n          <input type=\"Submit\" />\r\n        </form> */}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport superagent from \"superagent\";\r\n\r\nclass Users extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      API: 'https://polar-springs-72876.herokuapp.com',\r\n      email: '',\r\n      password: '',\r\n      role: ''\r\n    }\r\n  }\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    superagent\r\n      .post(`${this.state.API}/signup`)\r\n      .send({email: this.state.email, password: this.state.password, role: this.state.role})\r\n      .then(response => {\r\n        let token = response.text;\r\n        console.log(token);\r\n        this.context.login(token);\r\n      })\r\n      .catch(err => console.error(err));\r\n  };\r\n\r\n  handleChange = e => {\r\n    e.preventDefault();\r\n\r\n    // console.log(typeof e.target.value);\r\n    // console.log(e.target.value);\r\n    this.setState({ [e.target.name]: e.target.value });\r\n    console.log(e.target.value);\r\n  };\r\n  \r\n  render() {\r\n    return (\r\n      <form onSubmit={this.handleSubmit}>\r\n        <input \r\n          placeholder=\"Email\" \r\n          name=\"email\" \r\n          onChange={this.handleChange}\r\n        />\r\n  \r\n        <input \r\n          placeholder=\"Password\" \r\n          name=\"password\" \r\n          onChange={this.handleChange}\r\n        />\r\n  \r\n      <select name='role' onChange={this.handleChange}>\r\n        <option value=\"admin\">Admin</option>\r\n        <option value=\"senior\">Senior</option>\r\n        <option value=\"assistant\">Assistant</option>\r\n      </select>\r\n  \r\n        <input type=\"submit\" value=\"Create User\" />\r\n      </form>\r\n    );\r\n  }\r\n};\r\n\r\nexport default Users;\r\n","import React from \"react\";\r\nimport { LoginContext } from \"./loginContext\";\r\nimport superagent from \"superagent\";\r\n\r\nimport MoistureStream from \"../moistureStream\";\r\nimport Table from \"../table\";\r\nimport Chart from \"../chart\";\r\nimport User from \"../users\";\r\nimport Logo from \"../../assets/plantLogo.png\"\r\n\r\nimport \"./login.scss\"\r\n\r\n// const API = process.env.REACT_APP_API;\r\nconst API = \"https://polar-springs-72876.herokuapp.com\";\r\n\r\nconst If = props => {\r\n  return !!props.condition ? props.children : null;\r\n};\r\n\r\nclass Login extends React.Component {\r\n  static contextType = LoginContext;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { email: \"\", password: \"\" };\r\n  }\r\n\r\n  handleChange = e => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    superagent\r\n      .get(`${API}/signin`)\r\n      .auth(this.state.email, this.state.password)\r\n      .then(response => {\r\n        let token = response.text;\r\n        this.context.login(token);\r\n      })\r\n      .catch(err => console.error(err));\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <If condition={this.context.loggedIn}>\r\n          <button onClick={this.context.logout}>Log Out</button>\r\n          {/* Add here MoistureStream, Table and Chart after editing */}\r\n\r\n          <MoistureStream />\r\n          <Table />\r\n          <Chart />\r\n          <User />\r\n\r\n\r\n        </If>\r\n\r\n        <If condition={!this.context.loggedIn}>\r\n          <section className=\"login\" >\r\n\r\n            <img src={Logo} alt=\"logo\"/>\r\n\r\n            <form className=\"loginForm\" onSubmit={this.handleSubmit}>\r\n              <input\r\n                placeholder=\"Email\"\r\n                name=\"email\"\r\n                onChange={this.handleChange}\r\n              />\r\n\r\n              <input\r\n                placeholder=\"Password\"\r\n                name=\"password\"\r\n                onChange={this.handleChange}\r\n              />\r\n              <input type=\"submit\" value=\"Login\" />\r\n            </form>\r\n          </section>\r\n        </If>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Login;\r\n","import React from \"react\";\nimport Login from \"./components/login/login\";\nimport LoginProvider from \"./components/login/loginContext\";\n\nimport \"./style/reset.scss\"\nimport \"./style/layout.scss\"\n\nexport default class App extends React.Component {\n  render() {\n    return (\n      <>\n        <LoginProvider>\n          <Login />\n        </LoginProvider>\n      </>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./app.js\";\n\nexport default class Main extends React.Component {\n  render() {\n    return <App />;\n  }\n}\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(<Main />, rootElement);\n\n","module.exports = __webpack_public_path__ + \"static/media/plantLogo.eb68d565.png\";"],"sourceRoot":""}